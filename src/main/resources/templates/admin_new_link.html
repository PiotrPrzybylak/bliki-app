<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>bliki.io</title>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"
            integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery.cookie-consent/dist/jquery.cookie-consent.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $.cookieConsent();
        });
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BBDKFSQG2N"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());
        gtag('config', 'G-BBDKFSQG2N');
    </script>
</head>
<body>

<h1 th:text="${bliki.name}"></h1>
<div th:text="${bliki.description}"></div>

<h2>Add new link</h2>
<form method="post">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
    <input type="hidden" name="bliki" th:value="${bliki.id}" />

    <label for="category">Category</label>
    <select name="category" id="category">
        <option th:each="category:${categories}" th:value="${category.id}" th:text="${category.name}"></option>
    </select>
    <label for="href">Link</label>
    <input name="href" id="href"/>
    <label for="text">Link text</label>
    <input name="text" id="text"/>
    <label for="rate">Rate (between 1 and 5):</label>
    <input type="number" id="rate" name="rate" min="1" max="5">
    <label for="description">Description</label>
    <textarea name="description" id="description"></textarea>
    <button>Add</button>
</form>


<h2>Add new category</h2>
<form method="post" action="/admin/categories">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
    name:<input name="name" />
    description:<textarea name="description" ></textarea>
    <button>Add Category</button>
</form>

<h2>Links in this bliki:</h2>

<ul>
    <li th:each="link:${links}" >
        <span th:text="${link.href}"></span>
        <form action="/admin/rate_link" method="post" style="display: inline">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
            <input type="hidden" name="link_id" th:value="${link.id}">
            <select name="rating">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
            <button>Rate</button>
        </form>
    </li>
</ul>

</body>
</html>